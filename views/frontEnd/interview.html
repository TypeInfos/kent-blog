<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端工程师面经 | 人走茶凉</title>
    <meta name="description" content="在前端的路上越走越远">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.6af0ae30.css" as="style"><link rel="preload" href="/assets/js/app.18364c99.js" as="script"><link rel="preload" href="/assets/js/6.01720d6a.js" as="script"><link rel="preload" href="/assets/js/1.450e2223.js" as="script"><link rel="preload" href="/assets/js/8.bd918a63.js" as="script"><link rel="prefetch" href="/assets/js/10.4ffbccd7.js"><link rel="prefetch" href="/assets/js/11.6f9f2e2c.js"><link rel="prefetch" href="/assets/js/12.59d78057.js"><link rel="prefetch" href="/assets/js/13.8dc9425a.js"><link rel="prefetch" href="/assets/js/14.f3f07dfd.js"><link rel="prefetch" href="/assets/js/15.132e64aa.js"><link rel="prefetch" href="/assets/js/16.089f24bb.js"><link rel="prefetch" href="/assets/js/17.df308603.js"><link rel="prefetch" href="/assets/js/18.6fce16c2.js"><link rel="prefetch" href="/assets/js/19.f7c861e8.js"><link rel="prefetch" href="/assets/js/20.35e96911.js"><link rel="prefetch" href="/assets/js/21.22f1f1e5.js"><link rel="prefetch" href="/assets/js/22.62eab4ad.js"><link rel="prefetch" href="/assets/js/23.a0375427.js"><link rel="prefetch" href="/assets/js/24.c0a24ddd.js"><link rel="prefetch" href="/assets/js/25.439d0776.js"><link rel="prefetch" href="/assets/js/26.6e09de39.js"><link rel="prefetch" href="/assets/js/27.85ce17db.js"><link rel="prefetch" href="/assets/js/4.fb61191b.js"><link rel="prefetch" href="/assets/js/5.2de50911.js"><link rel="prefetch" href="/assets/js/7.fa7fed42.js"><link rel="prefetch" href="/assets/js/9.e6dfb581.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.7c199c7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6af0ae30.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/head.png" alt="人走茶凉" class="logo"> <span class="site-name">人走茶凉</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  frontEnd
</a></li><li class="dropdown-item"><!----> <a href="/category/hobby.html" class="nav-link"><i class="iconfont undefined"></i>
  hobby
</a></li><li class="dropdown-item"><!----> <a href="/category/work.html" class="nav-link"><i class="iconfont undefined"></i>
  work
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/TypeInfos" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/doudoublog/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客圆
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  frontEnd
</a></li><li class="dropdown-item"><!----> <a href="/category/hobby.html" class="nav-link"><i class="iconfont undefined"></i>
  hobby
</a></li><li class="dropdown-item"><!----> <a href="/category/work.html" class="nav-link"><i class="iconfont undefined"></i>
  work
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/TypeInfos" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.cnblogs.com/doudoublog/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客圆
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>前端工程师面经</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/frontEnd/interview.html#js中for-in与for-of之间的差异" class="sidebar-link">js中for in与for of之间的差异</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#扩展运算符" class="sidebar-link">扩展运算符...</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#是浅拷贝" class="sidebar-link">...是浅拷贝</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#栈和堆" class="sidebar-link">栈和堆</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#深拷贝" class="sidebar-link">深拷贝</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#数组的扩展运算符" class="sidebar-link">数组的扩展运算符</a></li></ul></li><li><a href="/views/frontEnd/interview.html#js-事件模式" class="sidebar-link">JS 事件模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#发布订阅" class="sidebar-link">发布订阅</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#观察者" class="sidebar-link">观察者</a></li></ul></li><li><a href="/views/frontEnd/interview.html#vue的data是怎么实现" class="sidebar-link">Vue的data是怎么实现</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#去重数组" class="sidebar-link">去重数组</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#vue兄弟间怎么检测数据变换" class="sidebar-link">Vue兄弟间怎么检测数据变换</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#vue中的计算属性可以调用计算属性吗？" class="sidebar-link">Vue中的计算属性可以调用计算属性吗？</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#用indexof来实现简易版的include" class="sidebar-link">用indexOf来实现简易版的include</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#排序对象数组" class="sidebar-link">排序对象数组</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#防抖-节流" class="sidebar-link">防抖&amp;节流</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#数组去重" class="sidebar-link">数组去重</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#正则表达式" class="sidebar-link">正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#中文" class="sidebar-link">中文</a></li></ul></li><li><a href="/views/frontEnd/interview.html#nan" class="sidebar-link">NaN</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#img-的title和alt有什么区别" class="sidebar-link">&lt;img&gt;的title和alt有什么区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#跨域的问题" class="sidebar-link">跨域的问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#解决跨域的方法" class="sidebar-link">解决跨域的方法</a></li></ul></li><li><a href="/views/frontEnd/interview.html#js有哪几种方式里检查数据类型：" class="sidebar-link">js有哪几种方式里检查数据类型：</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#typeof" class="sidebar-link">typeof</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#instanceof" class="sidebar-link">instanceof</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#constructor-构造器" class="sidebar-link">constructor 构造器</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#prototype-tostring" class="sidebar-link">prototype.toString</a></li></ul></li><li><a href="/views/frontEnd/interview.html#web安全" class="sidebar-link">WEB安全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#dns欺骗攻击" class="sidebar-link">DNS欺骗攻击</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#ddos攻击" class="sidebar-link">DDOS攻击</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#xss" class="sidebar-link">XSS</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#csrf攻击" class="sidebar-link">CSRF攻击</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#syn-flooding攻击" class="sidebar-link">SYN Flooding攻击</a></li></ul></li><li><a href="/views/frontEnd/interview.html#dom事件中target，currenttarget的区别" class="sidebar-link">dom事件中target，currentTarget的区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#vue的双向绑定" class="sidebar-link">vue的双向绑定</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#array-prototype-sort" class="sidebar-link">Array.prototype.sort</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#闭包" class="sidebar-link">闭包</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#编写一个javascript函数，传入一个数组，对数组中的元素进行去重并返回一个无重复元素的数组，数组的元素可以是数字、字符串、数组和对象。举例说明：" class="sidebar-link">编写一个Javascript函数，传入一个数组，对数组中的元素进行去重并返回一个无重复元素的数组，数组的元素可以是数字、字符串、数组和对象。举例说明：</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#js-快速排序" class="sidebar-link">js 快速排序</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#和-运算符判断相等的流程是怎样的" class="sidebar-link">===和==运算符判断相等的流程是怎样的</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#" class="sidebar-link">===</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#-2" class="sidebar-link">==</a></li></ul></li><li><a href="/views/frontEnd/interview.html#async-await" class="sidebar-link">async/await</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#null-undefined" class="sidebar-link">null &amp;&amp; undefined</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/frontEnd/interview.html#number-parseint-parsefloat" class="sidebar-link">Number &amp;&amp; parseInt &amp;&amp; parseFloat</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#number" class="sidebar-link">Number</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#parseint" class="sidebar-link">parseInt</a></li><li class="sidebar-sub-header"><a href="/views/frontEnd/interview.html#parsefloat" class="sidebar-link">parseFloat</a></li></ul></li></ul></section></li></ul> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>前端工程师面经</h1> <hr> <div data-v-0b496ca7><i class="iconfont reco-account" data-v-0b496ca7><span data-v-0b496ca7>kent</span></i> <!----> <span id="/views/frontEnd/interview.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-2e99e05a data-v-0b496ca7><i class="iconfont reco-eye" style="margin-right: .5rem" data-v-2e99e05a></i> <a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;" data-v-2e99e05a></a></span> <i class="iconfont reco-tag tags" data-v-0b496ca7><span class="tag-item" data-v-0b496ca7>
      面试
    </span><span class="tag-item" data-v-0b496ca7>
      前端
    </span><span class="tag-item" data-v-0b496ca7>
      前端基础
    </span></i></div></div> <div class="content default"><h2 id="js中for-in与for-of之间的差异"><a href="#js中for-in与for-of之间的差异" aria-hidden="true" class="header-anchor">#</a> js中for in与for of之间的差异</h2> <p>let aArray = ['a',123,{a:1,b:2}]</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>for(let index in aArray){
    console.log(index);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>输出: 0 1 2 说明遍历的是index，</p> <h2 id="扩展运算符"><a href="#扩展运算符" aria-hidden="true" class="header-anchor">#</a> 扩展运算符...</h2> <div class="tip custom-block"><p class="custom-block-title">对扩展运算符的理解</p> <p>对象中的扩展运算符(...)用于取出参数对象中的所有可遍历属性，拷贝到当前对象之中</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>bar <span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>上面的方法实际上就等于</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baz <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> bar<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: 1, b: 2 }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Object.assign方法的第一个参数是目标对象，后面的参数都是源对象。(如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性)。<br>
同样，如果用户自定义的属性，放在扩展运算符后面，则扩展运算符内部的同名属性会被覆盖掉。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>bar<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// {a: 2, b: 4}</span>
baz<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// {a: 1, b: 2};</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span> <span class="token comment">// {a: 10, b: 2};</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="是浅拷贝"><a href="#是浅拷贝" aria-hidden="true" class="header-anchor">#</a> ...是浅拷贝</h3> <p>我们看个例子</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>two<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">...</span>bar<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// { a: 1, b: { one: 1, two: 2 } }</span>
baz<span class="token punctuation">.</span>b<span class="token punctuation">.</span>one <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">,</span>baz<span class="token punctuation">)</span> <span class="token comment">// baz { a: 1, b: { one: 10, two: 2 } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span>bar<span class="token punctuation">)</span> <span class="token comment">// bar { a: 1, b: { one: 10, two: 2 } }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">基础数据类型与引用类型</p> <p>javascript中有两种数据类型，分别是基础数据类型和引用数据类型。基础数据类型是按值访问的，常见的基础数据类型有<code>Number</code>、<code>String</code>、<code>Boolean</code>、<code>Null</code>、<code>Undefined</code>，这类变量的拷贝的时候会完整的复制一份；引用数据类型比如<code>Array</code>、<code>Object</code>,<code>symbol</code>，在拷贝的时候拷贝的是对象的引用，当原对象发生变化的时候，拷贝对象也跟着变化。</p></div> <p>为什么分成基础数据类型和引用类型，这就要扯到了栈内存和堆内存。</p> <h3 id="栈和堆"><a href="#栈和堆" aria-hidden="true" class="header-anchor">#</a> 栈和堆</h3> <div class="tip custom-block"><p class="custom-block-title">栈和堆概述</p> <p>栈区（stack）— 由编译器自动分配释放 ，存放函数的参数值，局部变量的值等。其操作方式类似于数据结构中的栈。
堆区（heap） — 一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收 。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表</p></div> <p>基础数据类型是放在栈内存，引用类型是放在堆内存，两个图就理解了:
栈内存：
<img src="/assets/img/stack.68cac57a.jpg" alt="">
堆内存：
<img src="/assets/img/heap.2466da9e.jpg" alt="">
这就引出了浅拷贝与深拷贝，正常拷贝基础数据类型（也称为值类型）时，是直接拷贝目标值，拷贝引用类型时是拷贝引用地址。</p> <div class="tip custom-block"><p class="custom-block-title">浅拷贝与深拷贝</p> <p>浅拷贝:拷贝对象的引用，而不是在内存新建一块内存。
深拷贝:将对象的所有值拷贝一份放在新建的内存，这样两块内存互不干涉。</p></div> <h3 id="深拷贝"><a href="#深拷贝" aria-hidden="true" class="header-anchor">#</a> 深拷贝</h3> <p>深拷贝也经常被用到，我常用的是JSON.parse(JSON.stringify())</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token punctuation">{</span>one<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>two<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> baz <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">)</span>
baz<span class="token punctuation">.</span>b<span class="token punctuation">.</span>one <span class="token operator">=</span> <span class="token number">10</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'baz'</span><span class="token punctuation">,</span>baz<span class="token punctuation">)</span> <span class="token comment">// baz { a: 1, b: { one: 10, two: 2 } }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'bar'</span><span class="token punctuation">,</span>bar<span class="token punctuation">)</span> <span class="token comment">// bar { a: 1, b: { one: 1, two: 2 } }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>现在就是深拷贝了。但是这样有很多问题，比如当对象里面的值是函数、正则表达式循环引用时就会出现BUG。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 构造函数</span>
<span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">pname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> pname<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Messi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">person</span><span class="token punctuation">(</span><span class="token string">'Messi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 函数</span>
<span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> oldObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> say<span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  c<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'ab+c'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  d<span class="token punctuation">:</span> Messi
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>oldObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 无法复制函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>a<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined [Function: say]</span>
<span class="token comment">// 稀疏数组复制错误</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null undefined</span>
<span class="token comment">// 无法复制正则对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>c<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {} /ab+c/i</span>
<span class="token comment">// 构造函数指向错误</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>d<span class="token punctuation">.</span>constructor<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>d<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: Object] [Function: person]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>所以我们得自己来构造一个深拷贝函数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
<span class="token keyword">const</span> <span class="token function-variable function">isType</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> typeString <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> flag<span class="token punctuation">;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">'Array'</span><span class="token punctuation">:</span>
      flag <span class="token operator">=</span> typeString <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'Date'</span><span class="token punctuation">:</span>
      flag <span class="token operator">=</span> typeString <span class="token operator">===</span> <span class="token string">'[object Date]'</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">'RegExp'</span><span class="token punctuation">:</span>
      flag <span class="token operator">=</span> typeString <span class="token operator">===</span> <span class="token string">'[object RegExp]'</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
      flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> flag<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">getRegExp</span> <span class="token operator">=</span> <span class="token parameter">re</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> flags <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>re<span class="token punctuation">.</span>global<span class="token punctuation">)</span> flags <span class="token operator">+=</span> <span class="token string">'g'</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>re<span class="token punctuation">.</span>ignoreCase<span class="token punctuation">)</span> flags <span class="token operator">+=</span> <span class="token string">'i'</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>re<span class="token punctuation">.</span>multiline<span class="token punctuation">)</span> flags <span class="token operator">+=</span> <span class="token string">'m'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> flags<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">/**
* deep clone
* @param  {[type]} parent object 需要进行克隆的对象
* @return {[type]}        深克隆后的对象
*/</span>
<span class="token keyword">const</span> <span class="token function-variable function">clone</span> <span class="token operator">=</span> <span class="token parameter">parent</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 维护两个储存循环引用的数组</span>
  <span class="token keyword">const</span> parents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">_clone</span> <span class="token operator">=</span> <span class="token parameter">parent</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> parent <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> parent<span class="token punctuation">;</span>

    <span class="token keyword">let</span> child<span class="token punctuation">,</span> proto<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isType</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token string">'Array'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 对数组做特殊处理</span>
      child <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isType</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token string">'RegExp'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 对正则对象做特殊处理</span>
      child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>source<span class="token punctuation">,</span> <span class="token function">getRegExp</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>lastIndex<span class="token punctuation">)</span> child<span class="token punctuation">.</span>lastIndex <span class="token operator">=</span> parent<span class="token punctuation">.</span>lastIndex<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isType</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token string">'Date'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 对Date对象做特殊处理</span>
      child <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 处理对象原型</span>
      proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 利用Object.create切断原型链</span>
      child <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 处理循环引用</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> parents<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果父数组存在本对象,说明之前已经被引用过,直接返回此对象</span>
      <span class="token keyword">return</span> children<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    parents<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    children<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 递归</span>
      child<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">_clone</span><span class="token punctuation">(</span>parent<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> child<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">_clone</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">person</span><span class="token punctuation">(</span><span class="token parameter">pname</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> pname<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> Messi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">person</span><span class="token punctuation">(</span><span class="token string">'Messi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> oldObj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> say<span class="token punctuation">,</span>
  c<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'ab+c'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  d<span class="token punctuation">:</span> Messi<span class="token punctuation">,</span>
  f<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
oldObj<span class="token punctuation">.</span>b <span class="token operator">=</span> oldObj<span class="token punctuation">;</span>
<span class="token keyword">const</span> newObj <span class="token operator">=</span> <span class="token function">clone</span><span class="token punctuation">(</span>oldObj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>a<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: say] [Function: say]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>b<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { a: [Function: say], c: /ab+c/i, d: person { name: 'Messi' }, b: [Circular] } { a: [Function: say], c: /ab+c/i, d: person { name: 'Messi' }, b: [Circular] }</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>c<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// /ab+c/i /ab+c/i</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newObj<span class="token punctuation">.</span>d<span class="token punctuation">.</span>constructor<span class="token punctuation">,</span> oldObj<span class="token punctuation">.</span>d<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [Function: person] [Function: person]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br></div></div><h3 id="数组的扩展运算符"><a href="#数组的扩展运算符" aria-hidden="true" class="header-anchor">#</a> 数组的扩展运算符</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> numbers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">...</span>numbers<span class="token punctuation">)</span> <span class="token comment">// 42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>还可以复制数组，但还是浅复制，因为数组也是引用类型</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">;</span>
arr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
arr1 <span class="token comment">// [2, 2]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ES6有个新特效是解构复制，配合扩展运算符很好用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
first <span class="token comment">// 1</span>
rest  <span class="token comment">// [2, 3, 4, 5]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="danger custom-block"><p>如果将扩展运算符用于数组赋值，只能放在参数的最后一位，否则会报错。</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token operator">...</span>rest<span class="token punctuation">,</span> last<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 报错</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">,</span> last<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">// 报错</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>扩展运算符还可以将字符串转为真正的数组</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token string">'hello'</span><span class="token punctuation">]</span>
<span class="token comment">// [ &quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot; ]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="js-事件模式"><a href="#js-事件模式" aria-hidden="true" class="header-anchor">#</a> JS 事件模式</h2> <div class="tip custom-block"><p class="custom-block-title">区别</p> <p>共同点：两者都可订阅，然后接受消息<br>
发布/订阅:一种一对多的依赖关系，由发布者、订阅者、消息管理器三部分组成，松耦合的状态<br>
观察者:将订阅者依附在目标对象身上，在发布时直接调用目标内容进行输出，一种一对多的依赖关系，紧耦合的状态<br></p></div> <h3 id="发布订阅"><a href="#发布订阅" aria-hidden="true" class="header-anchor">#</a> 发布订阅</h3> <p><img src="data:image/png;base64,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" alt=""></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> event <span class="token operator">=</span> <span class="token punctuation">{</span>
  clientList<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">listen</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>clientList<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>clientList<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>clientList<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>   <span class="token comment">// 订阅的消息添加进缓存列表</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> money</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> fns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>clientList<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token comment">// 相当于简单的消息管理，过滤订阅信息</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fns <span class="token operator">||</span> fns<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 如果没有绑定对应的消息</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    fns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">fn</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>money<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 再定义一个installEvent函数，用于给所有对象动态安装发布-订阅功能</span>
<span class="token comment">// 如：另一家售楼处也想要这个功能，就可以调用这个注册了，不同再写多一次这段代码</span>
<span class="token keyword">let</span> <span class="token function-variable function">installEvent</span> <span class="token operator">=</span> <span class="token parameter">obj</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">in</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> event<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 给售楼处对象salesOffices动态增加发布-订阅功能</span>
<span class="token keyword">let</span> salesOffices <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">installEvent</span><span class="token punctuation">(</span>salesOffices<span class="token punctuation">)</span>
<span class="token comment">// 小明订阅信息</span>
salesOffices<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token string">'squareMeter88'</span><span class="token punctuation">,</span> <span class="token parameter">price</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小明，你看中的88平方的房子，价格='</span> <span class="token operator">+</span> price<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 小光订阅信息</span>
salesOffices<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token string">'squareMeter88'</span><span class="token punctuation">,</span> <span class="token parameter">price</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小光，你看中的88平方的房子，价格='</span> <span class="token operator">+</span> price<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 小红订阅信息</span>
salesOffices<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token string">'squareMeter100'</span><span class="token punctuation">,</span> <span class="token parameter">price</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'小红，你看中的100平方的房子，价格='</span> <span class="token operator">+</span> price<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 小明，你看中的88平方的房子，价格=2000000</span>
<span class="token comment">// 小光，你看中的88平方的房子，价格=2000000</span>
salesOffices<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'squareMeter88'</span><span class="token punctuation">,</span> <span class="token number">2000000</span><span class="token punctuation">)</span>
<span class="token comment">// 小红，你看中的100平方的房子，价格=2500000</span>
salesOffices<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">'squareMeter100'</span><span class="token punctuation">,</span> <span class="token number">2500000</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h3 id="观察者"><a href="#观察者" aria-hidden="true" class="header-anchor">#</a> 观察者</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> Ob <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
Ob<span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// 订阅后返回一个id，用于删除该订阅内容</span>
Ob<span class="token punctuation">.</span><span class="token function-variable function">subscibe</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> id <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100000</span> <span class="token operator">+</span> <span class="token number">1</span>
  Ob<span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    id<span class="token punctuation">,</span>
    fn
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> id
<span class="token punctuation">}</span>
Ob<span class="token punctuation">.</span><span class="token function-variable function">publish</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> v <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    v<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
Ob<span class="token punctuation">.</span><span class="token function-variable function">delete</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> one <span class="token operator">=</span> Ob<span class="token punctuation">.</span><span class="token function">subscibe</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">color</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我想的颜色'</span> <span class="token operator">+</span> color<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 我想的颜色red</span>
Ob<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'red'</span><span class="token punctuation">)</span>
Ob<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span>
<span class="token comment">// 没有输出</span>
Ob<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'blue'</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="vue的data是怎么实现"><a href="#vue的data是怎么实现" aria-hidden="true" class="header-anchor">#</a> Vue的data是怎么实现</h2> <p>在Vue早期版本的时候是用</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> <span class="token string">'fetch'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  writable<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">//配置</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>现在的Vue是基于ES6的proxy的实现，因为跟更改，区别就是:......</p> <h2 id="去重数组"><a href="#去重数组" aria-hidden="true" class="header-anchor">#</a> 去重数组</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">dedupe</span><span class="token punctuation">(</span><span class="token parameter">array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">dedupe</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2, 3]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="vue兄弟间怎么检测数据变换"><a href="#vue兄弟间怎么检测数据变换" aria-hidden="true" class="header-anchor">#</a> Vue兄弟间怎么检测数据变换</h2> <ol><li>在有些情况下可以用路由传参</li> <li>用Vuex作为载体传参、监听</li> <li>用兄弟的父元素来监听两个子组件的变换统一分配数据</li></ol> <h2 id="vue中的计算属性可以调用计算属性吗？"><a href="#vue中的计算属性可以调用计算属性吗？" aria-hidden="true" class="header-anchor">#</a> Vue中的计算属性可以调用计算属性吗？</h2> <p>答案是不可以，在调用后会提示：<code>Maximum call stack size exceeded</code>，
计算属性是在调用后才执行里的语句，跟函数是一样的。</p> <h2 id="用indexof来实现简易版的include"><a href="#用indexof来实现简易版的include" aria-hidden="true" class="header-anchor">#</a> 用indexOf来实现简易版的include</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myIncludes</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="排序对象数组"><a href="#排序对象数组" aria-hidden="true" class="header-anchor">#</a> 排序对象数组</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">compareAscending</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">propName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj1<span class="token punctuation">,</span> obj2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> val1 <span class="token operator">=</span> obj1<span class="token punctuation">[</span>propName<span class="token punctuation">]</span>
    <span class="token keyword">var</span> val2 <span class="token operator">=</span> obj2<span class="token punctuation">[</span>propName<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val1 <span class="token operator">&lt;</span> val2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val1 <span class="token operator">&gt;</span> val2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> <span class="token function-variable function">compareDescending</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">propName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">obj1<span class="token punctuation">,</span> obj2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> val1 <span class="token operator">=</span> obj1<span class="token punctuation">[</span>propName<span class="token punctuation">]</span>
    <span class="token keyword">var</span> val2 <span class="token operator">=</span> obj2<span class="token punctuation">[</span>propName<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>val1 <span class="token operator">&gt;</span> val2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>val1 <span class="token operator">&lt;</span> val2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">1</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 调用</span>
<span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  a<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  b<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token comment">// 传入属性名</span>
t<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token function">compareDescending</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="防抖-节流"><a href="#防抖-节流" aria-hidden="true" class="header-anchor">#</a> 防抖&amp;节流</h2> <div class="tip custom-block"><p class="custom-block-title">防抖</p> <p>防抖是用来制止某个事件在短时间内被连续触发，比如：用户在输入框输入文字的时候，需要请求后台来联想数据，如果没有加防抖时，用户每输入一个字或者每变换一个字时，都需要请求后端，有点浪费资源，这时可以加入防抖函数，在用户稍微停顿输入的时候再请求后端岂不是更好。</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">antiShake</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> context<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>fn<span class="token punctuation">.</span>timeoutID<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">//  在delay秒之内连续触发会刷新setTimeout，从而不能执行到fn</span>
  fn<span class="token punctuation">.</span>timeoutID <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="tip custom-block"><p class="custom-block-title">节流</p> <p>节流是让某个事件在执行完后过一段时间才能再次被触发，比如用来限制刷新按钮，当用户疯狂刷新，比如一秒刷新100次，我们就得向后端发送100次的请求，加了节流后端，可以自定义当第一次刷新后过几秒才能再次发起刷新事件。</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">throttle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> context<span class="token punctuation">,</span> delay<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断是否是第一次执行，第一次执行给fn添加属性canRun:true</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'canRun'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fn<span class="token punctuation">.</span>canRun <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">.</span>canRun<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 第一次直接执行</span>
  <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
  <span class="token comment">// 执通过关卡if(!canRun)，等于就拿到了通行证。然后下一步的操作就是立马将关卡关上canRun=false。</span>
  <span class="token comment">// 这样，其他请求执行滚动事件的方法，就被挡回去了</span>
  fn<span class="token punctuation">.</span>canRun <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 执行完一次后delay秒后才能再执行一次</span>
    fn<span class="token punctuation">.</span>canRun <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="数组去重"><a href="#数组去重" aria-hidden="true" class="header-anchor">#</a> 数组去重</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> item
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Object]'</span>
      <span class="token operator">||</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      item <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token string">&quot;1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token punctuation">{</span> b<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">&quot;meili&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>结果对比
<code>[123,undefined, undefined, { a: 1 }, { a: { b: 1 } }, { a: &quot;1&quot; }, { a: { b: 1 } }, &quot;meili&quot;]</code><br> <code>[ 123, undefined, { a: 1 }, { a: { b: 1 } }, { a: '1' }, 'meili' ]</code></p> <h2 id="正则表达式"><a href="#正则表达式" aria-hidden="true" class="header-anchor">#</a> 正则表达式</h2> <h3 id="中文"><a href="#中文" aria-hidden="true" class="header-anchor">#</a> 中文</h3> <div class="tip custom-block"><p class="custom-block-title">中文正则</p> <p>“\u4e00”和“\u9fa5”是unicode编码，并且正好是中文编码的开始和结束的两个值，所以这个正则表达式可以用来判断字符串中是否包含中文</p></div> <p>匹配中文就可以用:<code>/^[\u4e00-\u9fa5]/</code></p> <h2 id="nan"><a href="#nan" aria-hidden="true" class="header-anchor">#</a> NaN</h2> <div class="tip custom-block"><p class="custom-block-title">NaN</p> <p>NaN是全局属性，初始值就是NaN和Number.NaN的值是一样的，NaN和任何值都不相等，包括自身。可以通过x!==x来判断是否为NaN，为true就是NaN</p></div> <p>基本都没用到NaN，只是有时判断的时候有用到</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token string">&quot;blabla&quot;</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
<span class="token string">'A'</span> <span class="token operator">-</span> <span class="token string">'B'</span> <span class="token comment">// NaN</span>
<span class="token number">1</span> <span class="token operator">+</span> <span class="token operator">-</span><span class="token string">'1'</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token comment">// 1 负号把'1'数字化了</span>
<span class="token function">Number</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span> <span class="token comment">// NaN</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="img-的title和alt有什么区别"><a href="#img-的title和alt有什么区别" aria-hidden="true" class="header-anchor">#</a> &lt;img&gt;的title和alt有什么区别</h2> <ul><li>title是global attributes之一，用于为元素提供附加的advisory information。通常当鼠标滑动到元素上的时候显示。</li> <li>alt是&lt;img&gt;的特有属性，是图片内容的等价描述，用于图片无法加载时显示、读屏器阅读图片。可提图片高可访问性，除了纯装饰图片外都必须设置有意义的值，搜索引擎会重点分析。（理解，可以自己讲出就好）</li></ul> <h2 id="跨域的问题"><a href="#跨域的问题" aria-hidden="true" class="header-anchor">#</a> 跨域的问题</h2> <div class="tip custom-block"><p class="custom-block-title">什么情况下会产生跨域</p> <ul><li>协议不相同</li> <li>域名不相同</li> <li>端口不相同</li></ul></div> <p>满足其中一个就会产生跨域。<br>
跨域通信：js进行DOM操作、通信时如果目标与当前窗口不满足同源条件，浏览器为了安全会阻止跨域操作。跨域通信通常有以下方法：</p> <h3 id="解决跨域的方法"><a href="#解决跨域的方法" aria-hidden="true" class="header-anchor">#</a> 解决跨域的方法</h3> <p>最普遍的就是CORS，就是后端允许我们的本地的请求地址或线上域名</p> <h2 id="js有哪几种方式里检查数据类型："><a href="#js有哪几种方式里检查数据类型：" aria-hidden="true" class="header-anchor">#</a> js有哪几种方式里检查数据类型：</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;cjh&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">222</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> c<span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">e</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token function-variable function">f</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;22&quot;</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="typeof"><a href="#typeof" aria-hidden="true" class="header-anchor">#</a> typeof</h3> <div class="tip custom-block"><p><em>可以判断function的类型；在判断除Object类型的对象时比较方便</em>
不能区分array和object</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> a<span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> string
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> b<span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> number
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> c<span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> array
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> d<span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token parameter">object</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Date</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> e<span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token keyword">function</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">typeof</span> f</span><span class="token punctuation">)</span>   <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token keyword">function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="instanceof"><a href="#instanceof" aria-hidden="true" class="header-anchor">#</a> instanceof</h3> <div class="tip custom-block"><p><em>后面一定要是对象类型，并且大小写不能错，该方法适合一些条件选择或分支</em>
挺好用的，就是要区分大小写，自己写继承类的时候用这个比较好。<br>
instanceof在对象直接继承和间接继承的都会报true。</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span>c <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>d <span class="token keyword">instanceof</span> <span class="token class-name">Date</span><span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>f <span class="token keyword">instanceof</span> <span class="token class-name">Function</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token boolean">true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>f <span class="token keyword">instanceof</span> <span class="token class-name">function</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token boolean">false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="constructor-构造器"><a href="#constructor-构造器" aria-hidden="true" class="header-anchor">#</a> constructor <em>构造器</em></h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Array<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token boolean">true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Date<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span>
<span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Function<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span>
注意： constructor 在类继承时会出错
eg：
      <span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token constant">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token class-name">A</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">B</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//A继承自B</span>
      <span class="token keyword">var</span> aObj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>aobj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>aobj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">A</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token comment">// 而instanceof方法不会出现该问题，对象直接继承和间接继承的都会报true：</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>aobj <span class="token keyword">instanceof</span> <span class="token class-name">B</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>aobj <span class="token keyword">instanceof</span> <span class="token class-name">B</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token comment">// 言归正传，解决construtor的问题通常是让对象的constructor手动指向自己：</span>
      aobj<span class="token punctuation">.</span>constructor <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">;</span> <span class="token comment">//将自己的类赋值给对象的constructor属性</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>aobj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">A</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span>aobj<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span> 
<span class="token comment">//基类不会报true了;不过规范一点的话，继承后必须把constructor指向它的父类</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="prototype-tostring"><a href="#prototype-tostring" aria-hidden="true" class="header-anchor">#</a> prototype.toString</h3> <div class="tip custom-block"><p><em>大小写不能写错，比较麻烦，但胜在通用</em></p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">===</span> ‘<span class="token punctuation">[</span>object String<span class="token punctuation">]</span>’<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token operator">===</span> ‘<span class="token punctuation">[</span>object Number<span class="token punctuation">]</span>’<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">===</span> ‘<span class="token punctuation">[</span>object Array<span class="token punctuation">]</span>’<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token operator">===</span> ‘<span class="token punctuation">[</span>object Date<span class="token punctuation">]</span>’<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">===</span> ‘<span class="token punctuation">[</span>object Function<span class="token punctuation">]</span>’<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">===</span> ‘<span class="token punctuation">[</span>object Function<span class="token punctuation">]</span>’<span class="token punctuation">)</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="web安全"><a href="#web安全" aria-hidden="true" class="header-anchor">#</a> WEB安全</h2> <h3 id="dns欺骗攻击"><a href="#dns欺骗攻击" aria-hidden="true" class="header-anchor">#</a> DNS欺骗攻击</h3> <div class="tip custom-block"><p class="custom-block-title">DNS欺骗攻击</p> <p>DNS欺骗就是攻击者冒充域名服务器的一种欺骗行为。 原理：如果可以冒充域名服务器，然后把查询的IP地址设为攻击者的IP地址，这样的话，用户上网就只能看到攻击者的主页，而不是用户想要取得的网站的主页了，这就是DNS欺骗的基本原理。DNS欺骗其实并不是真的“黑掉”了对方的网站，而是冒名顶替、招摇撞骗罢了</p></div> <p>例如更改电脑的host文件。</p> <h3 id="ddos攻击"><a href="#ddos攻击" aria-hidden="true" class="header-anchor">#</a> DDOS攻击</h3> <div class="tip custom-block"><p>分布式拒绝服务(DDoS:Distributed Denial of Service)攻击指借助于客户/服务器技术，将多个计算机联合起来作为攻击平台，对一个或多个目标发动DDoS攻击，从而成倍地提高拒绝服务攻击的威力，通过大量互联网流量压倒目标或其周围的基础架构来破坏目标服务器，服务或网络的正常流量。DDoS攻击通过利用多个受损计算机系统作为攻击流量来源来实现有效性。被利用的机器可以包括计算机和其他网络资源，例如物联网设备。从高层次来看，DDoS攻击就像堵塞高速公路的交通堵塞，阻止了常规交通到达其所需的目的地。</p></div> <p><img src="/assets/img/ddos.ac2da8cd.jpeg" alt="">
DDoS攻击需要攻击者控制在线计算机网络才能进行攻击。计算机和其他计算机（如物联网设备）感染了恶意软件，将每个计算机转变为机器人（或僵尸）。然后，攻击者可以远程控制僵尸程序组，这称为僵尸网络。</p> <h3 id="xss"><a href="#xss" aria-hidden="true" class="header-anchor">#</a> XSS</h3> <p>跨站点攻击。xss攻击的主要目的是想办法获取目标攻击网站的cookie，因为有了cookie相当于有了session，有了这些信息就可以在任意能接进互联网的PC登陆该网站，并以其他人的身份登陆做破坏。预防措施防止下发界面显示html标签，把&lt;/&gt;等符号转义。</p> <h3 id="csrf攻击"><a href="#csrf攻击" aria-hidden="true" class="header-anchor">#</a> CSRF攻击</h3> <div class="tip custom-block"><p>CSRF（Cross-site request forgery）跨站请求伪造,跨站点伪装请求。csrf攻击的主要目的是让用户在不知情的情况下攻击自己已登录的一个系统，类似于钓鱼。如用户当前已经登陆了邮箱或bbs，同时用户又在使用另外一个，已经被你控制的网站，我们姑且叫它钓鱼网站。这个网站上面可能因为某个图片吸引你，你去点击一下，此时可能就会触发一个js的点击事件，构造一个bbs发帖的请求，去往你的bbs发帖，由于当前你的浏览器状态已经是登陆状态，所以session登陆cookie信息都会跟正常的请求一样，纯天然的利用当前的登陆状态，让用户在不知情的情况下，帮你发帖或干其他事情。预防措施，请求加入随机数，让钓鱼网站无法正常伪造请求。</p></div> <p><a href="https://www.bilibili.com/video/av33502871?from=search&amp;seid=1913949786887349692" target="_blank" rel="noopener noreferrer">CSRF攻击和防御<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="syn-flooding攻击"><a href="#syn-flooding攻击" aria-hidden="true" class="header-anchor">#</a> SYN Flooding攻击</h3> <div class="tip custom-block"><p class="custom-block-title">SYN Flooding攻击</p> <p>由于 TCP基于连接的，为了在服务端和客户端之间传送TCP数据，必须先建立一个虚拟电路，也就是TCP连接，建立TCP连接的过程也就是我们熟悉的“三次握手”过程：首先，请求端（客户端）发送一个包含SYN标志的TCP报文，表示客户端欲发起通信连接；第二步，服务器在收到客户端的SYN报文后，将返回一个SYN+ACK的报文，表示客户端的请求被接受；第三步，客户端也返回一个确认报文ACK给服务器端，到此一个TCP连接完成。问题就出在TCP连接的三次握手中，假设一个用户向服务器发送了SYN报文后突然死机或掉线，那么服务器在发出SYN+ACK应答报文后是无法收到客户端的ACK报文的，这种情况下服务器端一般会重试（再次发送SYN+ACK给客户端）并等待一段时间后丢弃这个未完成的连接，这段时间的长度我们称为SYN Timeout，一般来说这个时间是分钟的数量级（大约为30秒-2分钟）；如果有一个恶意的攻击者大量模拟这种情况，服务器端将为了维护一个非常大的半连接列表而消耗非常多的资源，最终导致服务器端忙于处理攻击者伪造的 TCP 连接请求而无暇理睬客户的正常请求，此时从正常客户的角度看来，服务器失去响应，这种情况我们称作：服务器端受到了SYN Flooding攻击。</p></div> <h2 id="dom事件中target，currenttarget的区别"><a href="#dom事件中target，currenttarget的区别" aria-hidden="true" class="header-anchor">#</a> dom事件中target，currentTarget的区别</h2> <p>target:当前被涉及到的对象<br>
currentTarget:事件绑定的元素</p> <h2 id="vue的双向绑定"><a href="#vue的双向绑定" aria-hidden="true" class="header-anchor">#</a> vue的双向绑定</h2> <div class="tip custom-block"><p>Object.defineProperty的getter和setter机制</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//object.defineProperty()</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> value<span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token function-variable function">get</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get it'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span><span class="token comment">//必须return一个值，作为name属性的值</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">newvalue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set it'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        value <span class="token operator">=</span> newvalue<span class="token punctuation">;</span><span class="token comment">//同步把value的值进行更新</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//get it</span>
obj<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token number">1234</span><span class="token punctuation">;</span><span class="token comment">//set it</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//get it</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>后来Vue更新了，用ES6的proxy代替了Object.defineProperty</p> <h2 id="array-prototype-sort"><a href="#array-prototype-sort" aria-hidden="true" class="header-anchor">#</a> Array.prototype.sort</h2> <p>Google Chrome 对 sort 做了特殊处理，对于长度 &lt;= 10 的数组使用的是插入排序(稳定排序算法) ，length &gt;10 的数组使用的是快速排序。快速排序是不稳定的排序算法。</p> <h2 id="闭包"><a href="#闭包" aria-hidden="true" class="header-anchor">#</a> 闭包</h2> <div class="tip custom-block"><p class="custom-block-title">闭包</p> <p>变量的作用域与非就是两种：全局变量、局部变量<br>
函数内部可以直接读取全局变量<br>
作用：使私有变量（局部变量）能够转换被多个函数共享，而不被能解析器从内存中释放掉</p></div> <h2 id="编写一个javascript函数，传入一个数组，对数组中的元素进行去重并返回一个无重复元素的数组，数组的元素可以是数字、字符串、数组和对象。举例说明："><a href="#编写一个javascript函数，传入一个数组，对数组中的元素进行去重并返回一个无重复元素的数组，数组的元素可以是数字、字符串、数组和对象。举例说明：" aria-hidden="true" class="header-anchor">#</a> 编写一个Javascript函数，传入一个数组，对数组中的元素进行去重并返回一个无重复元素的数组，数组的元素可以是数字、字符串、数组和对象。举例说明：</h2> <div class="tip custom-block"><ol><li>如传入的数组元素为[123, &quot;meili&quot;, &quot;123&quot;, &quot;mogu&quot;, 123],则输出：[123, &quot;meili&quot;, &quot;123&quot;, &quot;mogu&quot;]</li> <li>如传入的数组元素为[123, [1, 2, 3], [1, &quot;2&quot;, 3], [1, 2, 3], &quot;meili&quot;],则输出：[123, [1, 2, 3], [1, &quot;2&quot;, 3], &quot;meili&quot;]</li> <li>如传入的数组元素为[123, {a: 1}, {a: {b: 1}}, {a: &quot;1&quot;}, {a: {b: 1}}, &quot;meili&quot;],则输出：[123, {a: 1}, {a: {b: 1}}, {a: &quot;1&quot;}, &quot;meili&quot;]</li></ol></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">unique</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> hash <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">let</span> item
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Object]'</span>
      <span class="token operator">||</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      item <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      item <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hash<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      hash<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
      result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="js-快速排序"><a href="#js-快速排序" aria-hidden="true" class="header-anchor">#</a> js 快速排序</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">//为了防止剩一个数时再进行计算</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//设置最左边的元素为基准点：pivot</span>
    <span class="token keyword">let</span> p <span class="token operator">=</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//把要排序的序列中比p大的放到右边，比p小的放到左边，p的下标位置为i</span>
    <span class="token keyword">let</span> i <span class="token operator">=</span> left<span class="token punctuation">,</span>
        j <span class="token operator">=</span> right<span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">//j向左移，找到一个比p小的元素，直到找到小于p的数就停止在j下标上</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> p <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            j<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//i向右移，找到一个比p大的元素</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> p <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span> j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//当i和j不相等的时候交换</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i<span class="token operator">&lt;</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> p<span class="token punctuation">;</span>
      <span class="token comment">//i-1,i+1是为了让当前基准点继续参加排序</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>left<span class="token punctuation">,</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">92</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h2 id="和-运算符判断相等的流程是怎样的"><a href="#和-运算符判断相等的流程是怎样的" aria-hidden="true" class="header-anchor">#</a> ===和==运算符判断相等的流程是怎样的</h2> <h3 id=""><a href="#" aria-hidden="true" class="header-anchor">#</a> ===</h3> <ul><li>如果两个值不是相同类型，它们不相等</li> <li>如果两个值都是null或者都是undefined，它们相等</li> <li>如果两个值都是布尔类型true或者都是false，它们相等</li> <li>如果其中有一个是NaN，它们不相等</li> <li>如果都是数值型并且数值相等，他们相等， -0等于0</li> <li>如果他们都是字符串并且在相同位置包含相同的16位值，他它们相等；</li> <li>如果在长度或者内容上不等，它们不相等；两个字符串显示结果相同但是编码不同==和===都认为他们不相等</li> <li>如果他们指向相同对象、数组、函数，它们相等；如果指向不同对象，他们不相等</li></ul> <h3 id="-2"><a href="#-2" aria-hidden="true" class="header-anchor">#</a> ==</h3> <ul><li>如果两个值类型相同，按照===比较方法进行比较</li> <li>如果类型不同，使用如下规则进行比较</li> <li>如果其中一个值是null，另一个是undefined，它们相等</li> <li>如果一个值是数字另一个是字符串，将字符串转换为数字进行比较</li> <li>如果有布尔类型，将true转换为1，false转换为0，然后用==规则继续比较</li> <li>如果一个值是对象，另一个是数字或字符串，将对象转换为原始值然后用==规则继续比较</li> <li>其他所有情况都认为不相等</li></ul> <h2 id="async-await"><a href="#async-await" aria-hidden="true" class="header-anchor">#</a> async/await</h2> <div class="tip custom-block"><p>为什么要使用async/await，常用promise（当你没有彻底理解promise，请先看这篇文章）的人都知道每次都需要写<code>new Promise()</code>，代码整体看起来没那么优雅，但是两个作用都是一样的，都是处理异步操作。</p></div> <p>先看一段Promise的用法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timeout'</span><span class="token punctuation">,</span>ms<span class="token punctuation">)</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'我是传递的信息'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">print</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">timeout</span><span class="token punctuation">(</span>ms<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'print'</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>两秒后出现输出一下结果:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>timeout 2000
print 我是传递的信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>现在我们用async来代替上面print函数的代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timeout'</span><span class="token punctuation">,</span>ms<span class="token punctuation">)</span>
			<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'我是传递的信息'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">print</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> msg
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'print'</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>输出的结果和执行的过程都是一样的，但是代码简便了很多</p> <h2 id="null-undefined"><a href="#null-undefined" aria-hidden="true" class="header-anchor">#</a> null &amp;&amp; undefined</h2> <div class="tip custom-block"><p>在JavaScript规范中提到，要比较比较相等之前，不能将nullundefined转换成其他任何值，并且规定null和undefined是相等。null和undefined都代表无效的值。</p></div> <p>全等于状态下，是false，这个很好理解了。它们不属于同一类型数据。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">undefined</span> <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token comment">// false</span>
<span class="token keyword">typeof</span> <span class="token keyword">null</span>        <span class="token comment">//object</span>
<span class="token keyword">typeof</span> <span class="token keyword">undefined</span>       <span class="token comment">//undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="number-parseint-parsefloat"><a href="#number-parseint-parsefloat" aria-hidden="true" class="header-anchor">#</a> Number &amp;&amp; parseInt &amp;&amp; parseFloat</h2> <h3 id="number"><a href="#number" aria-hidden="true" class="header-anchor">#</a> Number</h3> <p>如果是Boolean值，true和false值将分别被转换为1和0。<br>
如果是数字值，只是简单的传入和返回。<br>
如果是null值，返回0。<br>
如果是undefined，返回NaN。<br>
如果是字符串：<br></p> <ul><li>如果字符串中只包含数字时，将其转换为十进制数值，即“1”变成1，“123”变成123，而“011”会变成11</li> <li>如果字符串中包含有效的浮点格式，如“1.1”，则将其转换为对应的浮点数值</li> <li>如果字符串中包含有效的十六进制格式，例如“0xf”，则将其转换为相同大小的十进制整数值</li> <li>如果字符串是空的（不包含任何字符），则将其转换为0</li> <li>如果字符串中包含除上述格式之外的字符，则将其转换成NaN</li></ul> <h3 id="parseint"><a href="#parseint" aria-hidden="true" class="header-anchor">#</a> parseInt</h3> <p>在转换字符串时，更多的是看是否符合数值模式。会忽略字符串前面的空格，直至找到第一个非空格字符。</p> <ul><li>如果第一个字符不是数字字符或负号，<code>parseInt()</code>就会返回NaN，也就是说用<code>parseInt()</code>转换空字符时会返回NaN</li> <li>如果第一个字符串是数字字符，parseInt()会继续解析第二个字符，直到解析完所有后续字符或者遇到一个非数字字符。例如，“123blue”会被转换为123，因为“blue”会被完全忽略，类似低“22.5”会被转换成22，因为小数点不是有效数字字符</li> <li>如果字符串以“0x”开头且后跟数字字符，就会将其当作一个十六进制整数</li> <li>如果字符串以“0”开头且后跟数字字符，就会将其当作一个八进制整数</li> <li>parseInt()函数增加了第二参数用于指定转换时使用的基数（即多少进制）
<code>parseInt(&quot;10&quot;,16)//按十六进制解析</code> <code>parseInt(&quot;10&quot;,8)//按八进制解析</code></li></ul> <h3 id="parsefloat"><a href="#parsefloat" aria-hidden="true" class="header-anchor">#</a> parseFloat</h3> <p>与parseInt类似，parseFloat也是con第一个字符开始解析每个字符，而且也是一直解析到字符串末尾，或者解析到遇见一个无效的浮点数字字符。也就是说，字符串的第一个小数点是有效的，而第二个小数点就是无效的，因此它后面的字符串将被忽略。例如“22.34.5”将会转换为22.34。<br>
除了第一个小数点有效之外，parseFloat与parseInt的第二个区别在与它始终都会忽略前导的零。<br>
parseFloat()只解析十进制值，因此它没有用第二个参数指定基数的用法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> num1<span class="token operator">=</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;1234blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//1234</span>

<span class="token keyword">var</span> num2<span class="token operator">=</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;0xA&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//0</span>

<span class="token keyword">var</span> num3<span class="token operator">=</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;0908.5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//908.5</span>

<span class="token keyword">var</span> num4<span class="token operator">=</span><span class="token function">parseFloat</span><span class="token punctuation">(</span><span class="token string">&quot;3.125e7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment">//31250000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="tip custom-block"><p>ECMAScript定义了isNaN()函数。这个函数接受一个参数，该参数可以是任何类型，而函数会帮我们确定这个参数是否“不是数值”。isNaN()在接收到一个值之后，会尝试将这个值转换为数值。不能转换为数值的参数会返回true。</p></div></div> <!----> <footer class="page-edit"><!----> <!----></footer> <!----> </main> <div class="valine-wrapper" data-v-0162251c><div id="valine" data-v-0162251c></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.18364c99.js" defer></script><script src="/assets/js/6.01720d6a.js" defer></script><script src="/assets/js/1.450e2223.js" defer></script><script src="/assets/js/8.bd918a63.js" defer></script>
  </body>
</html>
